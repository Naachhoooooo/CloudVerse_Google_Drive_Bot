<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CloudVerse Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="cv-header">
        <div class="cv-header-left">
            <img src="/Utilities/CloudVerse_Logo.jpg" id="cv-logo" alt="CloudVerse Logo" />
            <div id="cv-branding">CloudVerse</div>
        </div>
        <div id="cv-header-controls">
            <button id="restart-btn" class="cv-header-btn" title="Restart Bot">Restart</button>
            <button id="shutdown-btn" class="cv-header-btn" title="Shutdown Bot">Shutdown</button>
            <button id="theme-toggle-btn" class="cv-header-btn" title="Toggle Theme">Theme</button>
        </div>
    </div>
    
    <div id="cv-main">
        <!-- Top Row: Dashboard (left) and Online Users (right) -->
        <div class="cv-top-row">
            <section id="dashboard-section" class="cv-section">
                <div class="cv-section-header">
                    <span class="cv-section-title">Dashboard</span>
                    <div class="dashboard-tabs">
                        <button class="tab-btn active" data-tab="bot">CloudVerse Bot</button>
                        <button class="tab-btn" data-tab="server">Server Metrics</button>
                        <button class="tab-btn" data-tab="performance">Performance</button>
                    </div>
                </div>
                <div class="dashboard-status">
                    <button id="status-indicator" class="status-indicator online" title="Connection Status">
                        <span class="status-dot"></span>
                        <span class="status-text">Online</span>
                    </button>
                </div>
                <div class="tab-content active" id="bot-tab">
                    <div id="dashboard-metrics">
                        <div class="metric-card">
                            <div class="metric-header">Online Users</div>
                            <div class="user-counter" id="users">0</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-header">Uploads Today</div>
                            <div class="upload-counter" id="uploads_today">0</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-header">Bandwidth Usage</div>
                            <div class="bandwidth-today" id="bandwidth_today">Today: 0 GB</div>
                            <div class="bandwidth-month" id="bandwidth_month">Month: 0 GB</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-header">Current Speed</div>
                            <div class="speed-display" id="current-speed">0 MB/s</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-header">Bot Uptime</div>
                            <div class="uptime-display" id="uptime">0s</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-header">Bot Version</div>
                            <div class="system-value" id="bot-version">1.0.0</div>
                        </div>
                    </div>
                </div>
                <div class="tab-content" id="server-tab">
                    <div id="server-metrics">
                        <div class="metric-card">
                            <div class="metric-header">CPU Usage</div>
                            <div class="speedometer" id="cpu-gauge">
                                <canvas id="cpu-canvas" width="80" height="40"></canvas>
                                <div class="speedometer-value" id="cpu">0%</div>
                            </div>
                            <div class="usage-details">
                                <div class="usage-item">
                                    <span class="usage-label">Total:</span>
                                    <span class="usage-value" id="cpu-total">4 Cores</span>
                                </div>
                                <div class="usage-item">
                                    <span class="usage-label">Used:</span>
                                    <span class="usage-value" id="cpu-used">0%</span>
                                </div>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-header">Memory Usage</div>
                            <div class="speedometer" id="memory-gauge">
                                <canvas id="memory-canvas" width="80" height="40"></canvas>
                                <div class="speedometer-value" id="memory">0%</div>
                            </div>
                            <div class="usage-details">
                                <div class="usage-item">
                                    <span class="usage-label">Total:</span>
                                    <span class="usage-value" id="memory-total">8 GB</span>
                                </div>
                                <div class="usage-item">
                                    <span class="usage-label">Used:</span>
                                    <span class="usage-value" id="memory-used">0 GB</span>
                                </div>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-header">Network Bandwidth</div>
                            <div class="circular-progress" id="bandwidth-circle">
                                <svg width="60" height="60">
                                    <defs>
                                        <linearGradient id="bandwidthGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                            <stop offset="0%" style="stop-color:#007aff;stop-opacity:1" />
                                            <stop offset="100%" style="stop-color:#5856d6;stop-opacity:1" />
                                        </linearGradient>
                                    </defs>
                                    <circle class="progress-bg" cx="30" cy="30" r="25"></circle>
                                    <circle class="progress-fill" id="bandwidth-fill" cx="30" cy="30" r="25" stroke="url(#bandwidthGradient)"></circle>
                                </svg>
                                <div class="circular-text" id="bandwidth">0 GB</div>
                            </div>
                        </div>
                    </div>
                    <div class="system-info">
                        <h3>Server Information</h3>
                        <div class="system-grid">
                            <div class="system-item">
                                <div class="system-label">Platform</div>
                                <div class="system-value" id="platform">Linux</div>
                            </div>
                            <div class="system-item">
                                <div class="system-label">Architecture</div>
                                <div class="system-value" id="architecture">x86_64</div>
                            </div>
                            <div class="system-item">
                                <div class="system-label">Python Version</div>
                                <div class="system-value" id="python-version">3.9+</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-content" id="performance-tab">
                    <div id="performance-metrics">
                        <div class="metric-card">
                            <div class="metric-header">Response Time</div>
                            <div class="performance-display" id="response-time">~50ms</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-header">Active Connections</div>
                            <div class="connection-counter" id="active-connections">0</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-header">Queue Size</div>
                            <div class="queue-counter" id="queue-size">0</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-header">Error Rate</div>
                            <div class="error-rate" id="error-rate">0%</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-header">Upload Speed</div>
                            <div class="speed-display" id="upload-speed">0 MB/s</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-header">Download Speed</div>
                            <div class="speed-display" id="download-speed">0 MB/s</div>
                        </div>
                    </div>
                    <div class="performance-info">
                        <h3>Performance Analytics</h3>
                        <div class="performance-grid">
                            <div class="performance-item">
                                <div class="performance-label">Avg Upload Time</div>
                                <div class="performance-value" id="avg-upload-time">2.5s</div>
                            </div>
                            <div class="performance-item">
                                <div class="performance-label">Success Rate</div>
                                <div class="performance-value" id="success-rate">99.8%</div>
                            </div>
                            <div class="performance-item">
                                <div class="performance-label">Peak Load</div>
                                <div class="performance-value" id="peak-load">85%</div>
                            </div>
                            <div class="performance-item">
                                <div class="performance-label">Cache Hit Rate</div>
                                <div class="performance-value" id="cache-hit-rate">92%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="users-section" class="cv-section">
                <div class="cv-section-title">Current Online Users</div>
                <div class="users-section-header">
                    <span class="total-users-info" id="total-users-info">Total: 0</span>
                    <button id="refresh-users-btn" class="cv-btn-small" title="Refresh Online Users">
                        <svg class="refresh-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.13-.31 2.19-.85 3.09l1.46 1.46A7.932 7.932 0 0020 12c0-4.42-3.58-8-8-8zm-6.85 2.91L3.69 7.37A7.932 7.932 0 004 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3c-3.31 0-6-2.69-6-6 0-1.13.31-2.19.85-3.09z" fill="currentColor"/>
                        </svg>
                    </button>
                </div>
                <div id="users-table-wrapper">
                    <table id="users-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Username</th>
                                <th>ID</th>
                                <th>Status</th>
                                <th>Uploads</th>
                            </tr>
                        </thead>
                        <tbody id="users-tbody"></tbody>
                    </table>
                </div>
            </section>
        </div>
        
        <!-- Bottom Row: Terminal Logging (left) and Upload Manager (right) -->
        <div class="cv-bottom-row">
            <section id="logs-section" class="cv-section">
                <div class="cv-section-title">Terminal Logging</div>
                <div id="logs"></div>
            </section>
            
            <section id="uploads-section" class="cv-section">
                <div class="cv-section-title">Upload Manager</div>
                <div class="uploads-header">
                    <div class="uploads-count" id="active-uploads-count">0 Active Uploads</div>
                    <button id="refresh-uploads-btn" class="cv-btn-small" title="Refresh">Refresh</button>
                </div>
                <div id="uploads-list-wrapper">
                    <div id="uploads-list">
                        <!-- Upload items will be dynamically added here -->
                    </div>
                    <div id="no-uploads-message" class="no-uploads">
                        <div class="no-uploads-icon">📁</div>
                        <div class="no-uploads-text">No active uploads</div>
                    </div>
                </div>
            </section>
        </div>
    </div>
    
    <div id="user-toolkit" class="hidden"></div>
    
    <!-- Reconnect Button (hidden by default, icon only) -->
    <button id="reconnect-btn" class="reconnect-button" title="Reconnect WebSocket" style="display: none;">
        <svg class="reconnect-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.13-.31 2.19-.85 3.09l1.46 1.46A7.932 7.932 0 0020 12c0-4.42-3.58-8-8-8zm-6.85 2.91L3.69 7.37A7.932 7.932 0 004 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3c-3.31 0-6-2.69-6-6 0-1.13.31-2.19.85-3.09z" fill="currentColor"/>
        </svg>
    </button>
    
    <script src="App.js"></script>
</body>
</html> 